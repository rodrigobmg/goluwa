--local tex = render.CreateBlankTexture(Vec2(256, 1)):Fill(function(x, y) x = x / 255 x = x ^ 2.2 x = x * 255 return x,x,x,255 end)
local tex = render.CreateTexture("2d")
tex:SetSRGB(true)
tex:SetSize(Vec2(256, 1))
tex:SetupStorage()
tex:Fill(function(x, y) x = math.linear2gamma(x/256)*256 return x,x,x,255 end)

event.AddListener("Draw2D", "test", function()
	surface.SetColor(1,1,1,1)
	surface.SetTexture(tex)
	surface.DrawRect(0,0, surface.GetSize())
end)